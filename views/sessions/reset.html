<div class="reset-password"></div>

<script>
    var App = new PAT.App().setup();

    var resetForm;

    if (App.queryParams.token) {
      resetForm = new PAT.InstallationManager.SessionsResetPasswordPasswordForm({
        data: {
          url: '<%= helpers.urlFor.reset.url() %>',
          token: App.queryParams.token,
          csrfToken: '<%= csrfToken %>'
        }
      });
    } else {
      resetForm = new PAT.InstallationManager.SessionsResetPasswordEmailForm({
        data: {
          url: '<%= helpers.urlFor.reset.url() %>',
          csrfToken: '<%= csrfToken %>'
        }
      });
    }

    resetForm.render(document.querySelector('.reset-password'));
</script>
