* Steps in order
The plan of attack for this is going to be to add the parts slowly but
surely, making sure compatibility with the tests is maintained where
possible.
** DONE Update DomainParser middleware
Though for now, only update it so that it puts `installationName` in
the `req`.
** DONE Give all installation models the namespace of M
*** DONE Do so
*** DONE Update models so they use models in M
*** DONE Update controllers so they use models in M
*** DONE Update middlewares so they use models in M
*** DONE Update tests so they use models in M
** DONE Add DomainContainer middleware
Just add it, don't use it anywhere yet.  No mailers yet.
** DONE Implement new mailer structure
Referring to the fact that there's the InstallationManager mailers and
the Installation mailers, separate these two.
** DONE Update controllers to use DomainContainer
** DONE Update middlewares to use DomainContainer
** DONE Remove req.knex stuff
** TODO Models
*** DONE Update models to use this._container for other models usage
*** DONE Update all model unit tests to use DomainContainers
**** DONE Create one installation named `installation-unit` to hold the DB that unit tests will use
**** DONE Create global DomainContainer that holds the `installation-unit` installation
**** DONE Make unit tests use that DomainContainer to access the DB
*** TODO Mailers
**** DONE Make models not use mailers during 'test' environment
This is inside the models.  Make the model hooks not get setup if the
environment is test, only if the hook sends an email though.
**** DONE Make mailers available in ._modelExtras
**** DONE Make models use ._modelExtras.mailers
**** TODO Make mailers instance based
***** TODO Update BaseMailer
***** TODO Update UserMailer
** TODO PATOS-88
** TODO TESTS
